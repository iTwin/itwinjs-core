{
  "resolvedId": "D:/hub2023A/itwinjs-core/core/mobile/lib/cjs/common/MobilePush.js",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n* Copyright (c) Bentley Systems, Incorporated. All rights reserved.\n* See LICENSE.md in the project root for license terms and full copyright notice.\n*--------------------------------------------------------------------------------------------*/\n/** @packageDocumentation\n * @module RpcInterface\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MobilePushConnection = exports.MobilePushTransport = void 0;\nconst core_common_1 = require(\"@itwin/core-common\");\nconst MobileEventLoop_1 = require(\"./MobileEventLoop\");\nconst MobileRpcProtocol_1 = require(\"./MobileRpcProtocol\");\n/* eslint-disable deprecation/deprecation */\nconst PUSH = \"__push__\";\n/** @internal */\nclass MobilePushTransport extends core_common_1.RpcPushTransport {\n    get last() { return this._last; }\n    constructor(protocol) {\n        super();\n        this._last = -1;\n        this._protocol = protocol;\n    }\n    consume(response) {\n        if (response.interfaceName !== PUSH) {\n            return false;\n        }\n        this._last = response.status;\n        if (this.onMessage) {\n            const messageData = core_common_1.RpcMarshaling.deserialize(this._protocol, response.result);\n            this.onMessage(response.id, messageData);\n        }\n        return true;\n    }\n}\nexports.MobilePushTransport = MobilePushTransport;\n/** @internal */\nclass MobilePushConnection extends core_common_1.RpcPushConnection {\n    constructor(channel, client, protocol) {\n        super(channel, client);\n        this._next = -1;\n        this._protocol = protocol;\n    }\n    async send(messageData) {\n        MobileEventLoop_1.MobileEventLoop.addTask();\n        const result = await core_common_1.RpcMarshaling.serialize(this._protocol, messageData);\n        MobileEventLoop_1.MobileEventLoop.removeTask();\n        const fulfillment = { result, rawResult: messageData, interfaceName: PUSH, id: this.channel.id, status: ++this._next };\n        const encoded = MobileRpcProtocol_1.MobileRpcProtocol.encodeResponse(fulfillment);\n        this._protocol.sendToFrontend(encoded);\n    }\n}\nexports.MobilePushConnection = MobilePushConnection;\n//# sourceMappingURL=MobilePush.js.map",
      "start": 1693508125108,
      "end": 1693508125141,
      "sourcemaps": null
    },
    {
      "name": "commonjs",
      "result": "import * as commonjsHelpers from \"\u0000commonjsHelpers.js\";\nimport { __exports as MobilePush } from \"\\u0000D:/hub2023A/itwinjs-core/core/mobile/lib/cjs/common/MobilePush.js?commonjs-exports\";\nimport require$$0 from \"\\u0000D:/hub2023A/itwinjs-core/core/common/lib/esm/core-common.js?commonjs-proxy\";\nimport require$$1 from \"\\u0000D:/hub2023A/itwinjs-core/core/mobile/lib/cjs/common/MobileEventLoop.js?commonjs-proxy\";\nimport { __require as require$$2 } from \"\\u0000D:/hub2023A/itwinjs-core/core/mobile/lib/cjs/common/MobileRpcProtocol.js?commonjs-wrapped\";\n\nvar hasRequiredMobilePush;\n\nfunction requireMobilePush () {\n\tif (hasRequiredMobilePush) return MobilePush;\n\thasRequiredMobilePush = 1;\n\t\"use strict\";\n\t/*---------------------------------------------------------------------------------------------\n\t* Copyright (c) Bentley Systems, Incorporated. All rights reserved.\n\t* See LICENSE.md in the project root for license terms and full copyright notice.\n\t*--------------------------------------------------------------------------------------------*/\n\t/** @packageDocumentation\n\t * @module RpcInterface\n\t */\n\tObject.defineProperty(MobilePush, \"__esModule\", { value: true });\n\tMobilePush.MobilePushConnection = MobilePush.MobilePushTransport = void 0;\n\tconst core_common_1 = require$$0;\n\tconst MobileEventLoop_1 = require$$1;\n\tconst MobileRpcProtocol_1 = require$$2();\n\t/* eslint-disable deprecation/deprecation */\n\tconst PUSH = \"__push__\";\n\t/** @internal */\n\tclass MobilePushTransport extends core_common_1.RpcPushTransport {\n\t    get last() { return this._last; }\n\t    constructor(protocol) {\n\t        super();\n\t        this._last = -1;\n\t        this._protocol = protocol;\n\t    }\n\t    consume(response) {\n\t        if (response.interfaceName !== PUSH) {\n\t            return false;\n\t        }\n\t        this._last = response.status;\n\t        if (this.onMessage) {\n\t            const messageData = core_common_1.RpcMarshaling.deserialize(this._protocol, response.result);\n\t            this.onMessage(response.id, messageData);\n\t        }\n\t        return true;\n\t    }\n\t}\n\tMobilePush.MobilePushTransport = MobilePushTransport;\n\t/** @internal */\n\tclass MobilePushConnection extends core_common_1.RpcPushConnection {\n\t    constructor(channel, client, protocol) {\n\t        super(channel, client);\n\t        this._next = -1;\n\t        this._protocol = protocol;\n\t    }\n\t    async send(messageData) {\n\t        MobileEventLoop_1.MobileEventLoop.addTask();\n\t        const result = await core_common_1.RpcMarshaling.serialize(this._protocol, messageData);\n\t        MobileEventLoop_1.MobileEventLoop.removeTask();\n\t        const fulfillment = { result, rawResult: messageData, interfaceName: PUSH, id: this.channel.id, status: ++this._next };\n\t        const encoded = MobileRpcProtocol_1.MobileRpcProtocol.encodeResponse(fulfillment);\n\t        this._protocol.sendToFrontend(encoded);\n\t    }\n\t}\n\tMobilePush.MobilePushConnection = MobilePushConnection;\n\t//# sourceMappingURL=MobilePush.js.map\n\treturn MobilePush;\n}\n\nexport { requireMobilePush as __require };",
      "start": 1693508125141,
      "end": 1693508125144,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "file": null,
        "sources": [
          null
        ],
        "sourcesContent": [
          null
        ],
        "names": [],
        "mappings": ";;;;;;;;;;;CAAA,YAAY,CAAC;CACb;CACA;CACA;CACA;CACA;CACA;CACA;CACA,MAAM,CAAC,cAAc,CAAC,UAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9D,gCAA4B,GAAG,8BAA2B,GAAG,KAAK,CAAC,CAAC;CACpE,MAAM,aAAa,GAAG,UAA6B,CAAC;CACpD,MAAM,iBAAiB,GAAG,UAA4B,CAAC;CACvD,MAAM,mBAAmB,GAAG,YAA8B,CAAC;CAC3D;CACA,MAAM,IAAI,GAAG,UAAU,CAAC;CACxB;CACA,MAAM,mBAAmB,SAAS,aAAa,CAAC,gBAAgB,CAAC;CACjE,IAAI,IAAI,IAAI,GAAG,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE;CACrC,IAAI,WAAW,CAAC,QAAQ,EAAE;CAC1B,QAAQ,KAAK,EAAE,CAAC;CAChB,QAAQ,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;CACxB,QAAQ,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;CAClC,KAAK;CACL,IAAI,OAAO,CAAC,QAAQ,EAAE;CACtB,QAAQ,IAAI,QAAQ,CAAC,aAAa,KAAK,IAAI,EAAE;CAC7C,YAAY,OAAO,KAAK,CAAC;CACzB,SAAS;CACT,QAAQ,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC;CACrC,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;CAC5B,YAAY,MAAM,WAAW,GAAG,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;CACzG,YAAY,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,EAAE,WAAW,CAAC,CAAC;CACrD,SAAS;CACT,QAAQ,OAAO,IAAI,CAAC;CACpB,KAAK;CACL,CAAC;AACD,+BAA2B,GAAG,mBAAmB,CAAC;CAClD;CACA,MAAM,oBAAoB,SAAS,aAAa,CAAC,iBAAiB,CAAC;CACnE,IAAI,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE;CAC3C,QAAQ,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;CAC/B,QAAQ,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;CACxB,QAAQ,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;CAClC,KAAK;CACL,IAAI,MAAM,IAAI,CAAC,WAAW,EAAE;CAC5B,QAAQ,iBAAiB,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;CACpD,QAAQ,MAAM,MAAM,GAAG,MAAM,aAAa,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;CAChG,QAAQ,iBAAiB,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC;CACvD,QAAQ,MAAM,WAAW,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,aAAa,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC;CAC/H,QAAQ,MAAM,OAAO,GAAG,mBAAmB,CAAC,iBAAiB,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;CAC1F,QAAQ,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;CAC/C,KAAK;CACL,CAAC;AACD,gCAA4B,GAAG,oBAAoB,CAAC;CACpD"
      }
    }
  ]
}
