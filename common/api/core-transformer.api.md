## API Report File for "@itwin/core-transformer"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AccessToken } from '@itwin/core-bentley';
import { CodeSpec } from '@itwin/core-common';
import * as ECSchemaMetaData from '@itwin/ecschema-metadata';
import { Element } from '@itwin/core-backend';
import { ElementAspect } from '@itwin/core-backend';
import { ElementAspectProps } from '@itwin/core-common';
import { ElementMultiAspect } from '@itwin/core-backend';
import { ElementProps } from '@itwin/core-common';
import { ElementUniqueAspect } from '@itwin/core-backend';
import { FontProps } from '@itwin/core-common';
import { Id64String } from '@itwin/core-bentley';
import { IModelCloneContext } from '@itwin/core-backend';
import { IModelDb } from '@itwin/core-backend';
import { Model } from '@itwin/core-backend';
import { ModelProps } from '@itwin/core-common';
import { Placement2d } from '@itwin/core-common';
import { Placement3d } from '@itwin/core-common';
import { Relationship } from '@itwin/core-backend';
import { RelationshipProps } from '@itwin/core-backend';
import { Schema } from '@itwin/ecschema-metadata';
import { SchemaKey } from '@itwin/ecschema-metadata';

// @beta
export class IModelExporter {
    constructor(sourceDb: IModelDb);
    excludeCodeSpec(codeSpecName: string): void;
    excludeElement(elementId: Id64String): void;
    excludeElementAspectClass(classFullName: string): void;
    excludeElementClass(classFullName: string): void;
    excludeElementsInCategory(categoryId: Id64String): void;
    excludeRelationshipClass(classFullName: string): void;
    exportAll(): Promise<void>;
    exportChanges(user?: AccessToken, startChangesetId?: string): Promise<void>;
    exportChildElements(elementId: Id64String): Promise<void>;
    exportCodeSpecById(codeSpecId: Id64String): Promise<void>;
    exportCodeSpecByName(codeSpecName: string): Promise<void>;
    exportCodeSpecs(): Promise<void>;
    exportElement(elementId: Id64String): Promise<void>;
    exportFontByName(fontName: string): Promise<void>;
    exportFontByNumber(fontNumber: number): Promise<void>;
    exportFonts(): Promise<void>;
    exportModel(modeledElementId: Id64String): Promise<void>;
    exportModelContents(modelId: Id64String, elementClassFullName?: string, skipRootSubject?: boolean): Promise<void>;
    exportRelationship(relClassFullName: string, relInstanceId: Id64String): Promise<void>;
    exportRelationships(baseRelClassFullName: string): Promise<void>;
    exportSchemas(): Promise<void>;
    exportSubModels(parentModelId: Id64String): Promise<void>;
    protected get handler(): IModelExportHandler;
    progressInterval: number;
    registerHandler(handler: IModelExportHandler): void;
    shouldExportElement(element: Element): boolean;
    readonly sourceDb: IModelDb;
    visitElements: boolean;
    visitRelationships: boolean;
    wantGeometry: boolean;
    wantSystemSchemas: boolean;
    wantTemplateModels: boolean;
}

// @beta
export abstract class IModelExportHandler {
    // @internal
    get callProtected(): any;
    protected onDeleteElement(_elementId: Id64String): void;
    protected onDeleteModel(_modelId: Id64String): void;
    protected onDeleteRelationship(_relInstanceId: Id64String): void;
    protected onExportCodeSpec(_codeSpec: CodeSpec, _isUpdate: boolean | undefined): void;
    protected onExportElement(_element: Element, _isUpdate: boolean | undefined): void;
    protected onExportElementMultiAspects(_aspects: ElementMultiAspect[]): void;
    protected onExportElementUniqueAspect(_aspect: ElementUniqueAspect, _isUpdate: boolean | undefined): void;
    protected onExportFont(_font: FontProps, _isUpdate: boolean | undefined): void;
    protected onExportModel(_model: Model, _isUpdate: boolean | undefined): void;
    protected onExportRelationship(_relationship: Relationship, _isUpdate: boolean | undefined): void;
    protected onExportSchema(_schema: Schema): Promise<void>;
    protected onProgress(): Promise<void>;
    protected shouldExportCodeSpec(_codeSpec: CodeSpec): boolean;
    protected shouldExportElement(_element: Element): boolean;
    protected shouldExportElementAspect(_aspect: ElementAspect): boolean;
    protected shouldExportRelationship(_relationship: Relationship): boolean;
    protected shouldExportSchema(_schemaKey: SchemaKey): boolean;
}

// @beta
export class IModelImporter implements Required<IModelImportOptions> {
    constructor(targetDb: IModelDb, options?: IModelImportOptions);
    autoExtendProjectExtents: boolean | {
        excludeOutliers: boolean;
    };
    computeProjectExtents(): void;
    deleteElement(elementId: Id64String): void;
    deleteRelationship(relationshipProps: RelationshipProps): void;
    readonly doNotUpdateElementIds: Set<string>;
    importElement(elementProps: ElementProps): Id64String;
    importElementMultiAspects(aspectPropsArray: ElementAspectProps[], filterFunc?: (a: ElementMultiAspect) => boolean): void;
    importElementUniqueAspect(aspectProps: ElementAspectProps): void;
    importModel(modelProps: ModelProps): void;
    importRelationship(relationshipProps: RelationshipProps): Id64String;
    protected onDeleteElement(elementId: Id64String): void;
    protected onDeleteElementAspect(targetElementAspect: ElementAspect): void;
    protected onDeleteRelationship(relationshipProps: RelationshipProps): void;
    protected onInsertElement(elementProps: ElementProps): Id64String;
    protected onInsertElementAspect(aspectProps: ElementAspectProps): void;
    protected onInsertModel(modelProps: ModelProps): Id64String;
    protected onInsertRelationship(relationshipProps: RelationshipProps): Id64String;
    protected onProgress(): void;
    protected onUpdateElement(elementProps: ElementProps): void;
    protected onUpdateElementAspect(aspectProps: ElementAspectProps): void;
    protected onUpdateModel(modelProps: ModelProps): void;
    protected onUpdateRelationship(relationshipProps: RelationshipProps): void;
    preserveElementIdsForFiltering: boolean;
    progressInterval: number;
    simplifyElementGeometry: boolean;
    readonly targetDb: IModelDb;
    }

// @beta
export interface IModelImportOptions {
    autoExtendProjectExtents?: boolean | {
        excludeOutliers: boolean;
    };
    preserveElementIdsForFiltering?: boolean;
}

// @beta
export class IModelTransformer extends IModelExportHandler {
    constructor(source: IModelDb | IModelExporter, target: IModelDb | IModelImporter, options?: IModelTransformOptions);
    readonly context: IModelCloneContext;
    protected _deferredElementIds: Set<string>;
    detectElementDeletes(): Promise<void>;
    detectRelationshipDeletes(): Promise<void>;
    dispose(): void;
    readonly exporter: IModelExporter;
    protected hasElementChanged(sourceElement: Element, targetElementId: Id64String): boolean;
    readonly importer: IModelImporter;
    initFromExternalSourceAspects(): void;
    protected onDeleteElement(sourceElementId: Id64String): void;
    protected onDeleteModel(_sourceModelId: Id64String): void;
    protected onDeleteRelationship(sourceRelInstanceId: Id64String): void;
    protected onExportCodeSpec(sourceCodeSpec: CodeSpec): void;
    protected onExportElement(sourceElement: Element): void;
    protected onExportElementMultiAspects(sourceAspects: ElementMultiAspect[]): void;
    protected onExportElementUniqueAspect(sourceAspect: ElementUniqueAspect): void;
    protected onExportFont(font: FontProps, _isUpdate: boolean | undefined): void;
    protected onExportModel(sourceModel: Model): void;
    protected onExportRelationship(sourceRelationship: Relationship): void;
    protected onExportSchema(schema: ECSchemaMetaData.Schema): Promise<void>;
    protected onTransformElement(sourceElement: Element): ElementProps;
    protected onTransformElementAspect(sourceElementAspect: ElementAspect, _targetElementId: Id64String): ElementAspectProps;
    protected onTransformModel(sourceModel: Model, targetModeledElementId: Id64String): ModelProps;
    protected onTransformRelationship(sourceRelationship: Relationship): RelationshipProps;
    processAll(): Promise<void>;
    processChanges(accessToken: AccessToken, startChangesetId?: string): Promise<void>;
    processChildElements(sourceElementId: Id64String): Promise<void>;
    processCodeSpec(codeSpecName: string): Promise<void>;
    processCodeSpecs(): Promise<void>;
    processDeferredElements(numRetries?: number): Promise<void>;
    processElement(sourceElementId: Id64String): Promise<void>;
    processFonts(): Promise<void>;
    processModel(sourceModeledElementId: Id64String): Promise<void>;
    processModelContents(sourceModelId: Id64String, targetModelId: Id64String, elementClassFullName?: string): Promise<void>;
    processRelationships(baseRelClassFullName: string): Promise<void>;
    processSchemas(): Promise<void>;
    processSubject(sourceSubjectId: Id64String, targetSubjectId: Id64String): Promise<void>;
    get provenanceDb(): IModelDb;
    protected _schemaExportDir: string;
    protected shouldExportCodeSpec(_sourceCodeSpec: CodeSpec): boolean;
    protected shouldExportElement(_sourceElement: Element): boolean;
    protected shouldExportElementAspect(_sourceAspect: ElementAspect): boolean;
    protected shouldExportRelationship(_sourceRelationship: Relationship): boolean;
    protected shouldExportSchema(schemaKey: ECSchemaMetaData.SchemaKey): boolean;
    protected skipElement(sourceElement: Element): void;
    readonly sourceDb: IModelDb;
    readonly targetDb: IModelDb;
    readonly targetScopeElementId: Id64String;
    }

// @beta
export interface IModelTransformOptions {
    cloneUsingBinaryGeometry?: boolean;
    includeSourceProvenance?: boolean;
    isReverseSynchronization?: boolean;
    loadSourceGeometry?: boolean;
    noProvenance?: boolean;
    preserveElementIdsForFiltering?: boolean;
    targetScopeElementId?: Id64String;
    wasSourceIModelCopiedToTarget?: boolean;
}

// @beta
export class TemplateModelCloner extends IModelTransformer {
    constructor(sourceDb: IModelDb, targetDb?: IModelDb);
    protected onTransformElement(sourceElement: Element): ElementProps;
    placeTemplate2d(sourceTemplateModelId: Id64String, targetModelId: Id64String, placement: Placement2d): Promise<Map<Id64String, Id64String>>;
    placeTemplate3d(sourceTemplateModelId: Id64String, targetModelId: Id64String, placement: Placement3d): Promise<Map<Id64String, Id64String>>;
    }

// @public
export enum TransformerLoggerCategory {
    // @beta
    IModelExporter = "core-backend.IModelExporter",
    // @beta
    IModelImporter = "core-backend.IModelImporter",
    // @beta
    IModelTransformer = "core-backend.IModelTransformer"
}


// (No @packageDocumentation comment for this package)

```
