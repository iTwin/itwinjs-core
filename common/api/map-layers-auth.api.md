## API Report File for "@itwin/map-layers-auth"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { BeEvent } from '@itwin/core-bentley';
import { Listener } from '@itwin/core-bentley';
import { MapLayerAccessClient } from '@itwin/core-frontend';
import { MapLayerAccessToken } from '@itwin/core-frontend';
import { MapLayerAccessTokenParams } from '@itwin/core-frontend';
import { MapLayerTokenEndpoint } from '@itwin/core-frontend';

// @beta (undocumented)
export class ArcGisAccessClient implements MapLayerAccessClient {
    constructor();
    // (undocumented)
    get arcGisEnterpriseClientIds(): ArcGisEnterpriseClientId[] | undefined;
    // (undocumented)
    get arcGisOnlineClientId(): string | undefined;
    set arcGisOnlineClientId(clientId: string | undefined);
    // (undocumented)
    get expiration(): number | undefined;
    // (undocumented)
    getAccessToken(params: MapLayerAccessTokenParams): Promise<MapLayerAccessToken | undefined>;
    // (undocumented)
    getMatchingEnterpriseClientId(url: string): string | undefined;
    // (undocumented)
    getTokenServiceEndPoint(mapLayerUrl: string): Promise<MapLayerTokenEndpoint | undefined>;
    // (undocumented)
    initialize(oAuthConfig?: ArcGisOAuthConfig): boolean;
    // (undocumented)
    invalidateToken(token: MapLayerAccessToken): boolean;
    // (undocumented)
    readonly onOAuthProcessEnd: BeEvent<Listener>;
    // (undocumented)
    get redirectUri(): string | undefined;
    // (undocumented)
    removeEnterpriseClientId(clientId: ArcGisEnterpriseClientId): void;
    // (undocumented)
    setEnterpriseClientId(serviceBaseUrl: string, clientId: string): void;
    // (undocumented)
    unInitialize(): void;
    // @internal (undocumented)
    static validateOAuth2Endpoint(endpointUrl: string): Promise<boolean>;
}

// @beta (undocumented)
export interface ArcGisEnterpriseClientId {
    // (undocumented)
    clientId: string;
    // (undocumented)
    serviceBaseUrl: string;
}

// @internal (undocumented)
export interface ArcGisGenerateTokenOptions {
    // (undocumented)
    client: ArcGisTokenClientType;
    // (undocumented)
    expiration?: number;
    // (undocumented)
    ip?: string;
    // (undocumented)
    referer?: string;
}

// @internal (undocumented)
export class ArcGisOAuth2Endpoint implements MapLayerTokenEndpoint {
    constructor(url: string, loginUrl: string, isArcgisOnline: boolean);
    getLoginUrl(stateData?: any): string;
    // (undocumented)
    getUrl(): string;
    // (undocumented)
    get isArcgisOnline(): boolean;
}

// @internal (undocumented)
export enum ArcGisOAuth2EndpointType {
    // (undocumented)
    Authorize = 0,
    // (undocumented)
    Token = 1
}

// @internal (undocumented)
export interface ArcGisOAuth2Token extends MapLayerAccessToken {
    // (undocumented)
    expiresAt: number;
    // (undocumented)
    persist?: boolean;
    // (undocumented)
    ssl: boolean;
    // (undocumented)
    userName: string;
}

// @beta (undocumented)
export interface ArcGisOAuthClientIds {
    // (undocumented)
    arcgisOnlineClientId?: string;
    // (undocumented)
    enterpriseClientIds?: ArcGisEnterpriseClientId[];
}

// @beta
export interface ArcGisOAuthConfig {
    // (undocumented)
    clientIds: ArcGisOAuthClientIds;
    // (undocumented)
    redirectUri: string;
    // (undocumented)
    tokenExpiration?: number;
}

// @internal (undocumented)
export interface ArcGisToken extends MapLayerAccessToken {
    // (undocumented)
    expires: number;
    // (undocumented)
    ssl: boolean;
}

// @internal (undocumented)
export enum ArcGisTokenClientType {
    // (undocumented)
    ip = 0,
    // (undocumented)
    referer = 1,
    // (undocumented)
    requestIp = 2
}

// @internal (undocumented)
export class ArcGisTokenGenerator {
    // (undocumented)
    static fetchTokenServiceUrl(arcGisRestServiceUrl: string): Promise<string | undefined>;
    // (undocumented)
    static formEncode(str: string): string;
    // (undocumented)
    generate(arcGisRestServiceUrl: string, userName: string, password: string, options: ArcGisGenerateTokenOptions): Promise<any>;
    // (undocumented)
    static getTokenServiceFromInfoJson(json: any): string | undefined;
    // (undocumented)
    getTokenServiceUrl(baseUrl: string): Promise<string | undefined>;
    // (undocumented)
    static rfc1738Encode(str: string): string;
}

// @internal (undocumented)
export class ArcGisTokenManager {
    // (undocumented)
    static getOAuth2Token(key: string): ArcGisOAuth2Token | undefined;
    // (undocumented)
    static getToken(arcGisRestServiceUrl: string, userName: string, password: string, options: ArcGisGenerateTokenOptions): Promise<ArcGisToken | undefined>;
    // (undocumented)
    static invalidateOAuth2Token(token: MapLayerAccessToken): boolean;
    // (undocumented)
    static invalidateToken(token: MapLayerAccessToken): boolean;
    // (undocumented)
    static loadFromBrowserStorage(): void;
    // (undocumented)
    static saveToBrowserStorage(): void;
    // (undocumented)
    static setOAuth2Token(key: string, token: ArcGisOAuth2Token): void;
}

// @internal (undocumented)
export class ArcGisUrl {
    // (undocumented)
    static extractRestBaseUrl(url: URL): URL | undefined;
    // (undocumented)
    static getRestUrlFromGenerateTokenUrl(url: URL): Promise<URL | undefined>;
}

// (No @packageDocumentation comment for this package)

```
