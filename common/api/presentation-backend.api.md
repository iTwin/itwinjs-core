## API Report File for "@bentley/presentation-backend"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { ClientRequestContext } from '@bentley/bentleyjs-core';
import { Content } from '@bentley/presentation-common';
import { ContentDescriptorRequestOptions } from '@bentley/presentation-common';
import { ContentRequestOptions } from '@bentley/presentation-common';
import { Descriptor } from '@bentley/presentation-common';
import { DescriptorOverrides } from '@bentley/presentation-common';
import { DiagnosticsOptions } from '@bentley/presentation-common';
import { DiagnosticsScopeLogs } from '@bentley/presentation-common';
import { DisplayLabelRequestOptions } from '@bentley/presentation-common';
import { DisplayLabelsRequestOptions } from '@bentley/presentation-common';
import { DisplayValueGroup } from '@bentley/presentation-common';
import { DistinctValuesRequestOptions } from '@bentley/presentation-common';
import { ExtendedContentRequestOptions } from '@bentley/presentation-common';
import { ExtendedHierarchyRequestOptions } from '@bentley/presentation-common';
import { FormatProps } from '@bentley/imodeljs-quantity';
import { HierarchyCompareInfo } from '@bentley/presentation-common';
import { HierarchyRequestOptions } from '@bentley/presentation-common';
import { Id64String } from '@bentley/bentleyjs-core';
import { IDisposable } from '@bentley/bentleyjs-core';
import { IModelDb } from '@bentley/imodeljs-backend';
import { InstanceKey } from '@bentley/presentation-common';
import { KeySet } from '@bentley/presentation-common';
import { LabelDefinition } from '@bentley/presentation-common';
import { LabelRequestOptions } from '@bentley/presentation-common';
import { Node } from '@bentley/presentation-common';
import { NodeKey } from '@bentley/presentation-common';
import { NodePathElement } from '@bentley/presentation-common';
import { Paged } from '@bentley/presentation-common';
import { PagedResponse } from '@bentley/presentation-common';
import { PartialHierarchyModification } from '@bentley/presentation-common';
import { PresentationDataCompareOptions } from '@bentley/presentation-common';
import { PresentationUnitSystem } from '@bentley/presentation-common';
import { RegisteredRuleset } from '@bentley/presentation-common';
import { Ruleset } from '@bentley/presentation-common';
import { SelectionInfo } from '@bentley/presentation-common';
import { SelectionScope } from '@bentley/presentation-common';
import { SelectionScopeRequestOptions } from '@bentley/presentation-common';
import { UpdateInfoJSON } from '@bentley/presentation-common';
import { VariableValue } from '@bentley/presentation-common';
import { VariableValueJSON } from '@bentley/presentation-common';
import { VariableValueTypes } from '@bentley/presentation-common';

// @alpha (undocumented)
export interface BackendDiagnosticsOptions extends DiagnosticsOptions {
    // (undocumented)
    listener: (diagnostics: DiagnosticsScopeLogs) => void;
}

// @beta
export interface DiskHierarchyCacheConfig extends HierarchyCacheConfigBase {
    directory?: string;
    // (undocumented)
    mode: HierarchyCacheMode.Disk;
}

// @beta
export enum DuplicateRulesetHandlingStrategy {
    // (undocumented)
    Replace = 1,
    // (undocumented)
    Skip = 0
}

// @internal (undocumented)
export function getElementKey(imodel: IModelDb, id: Id64String): InstanceKey | undefined;

// @beta
export type HierarchyCacheConfig = MemoryHierarchyCacheConfig | DiskHierarchyCacheConfig | HybridCacheConfig;

// @beta
export interface HierarchyCacheConfigBase {
    // (undocumented)
    mode: HierarchyCacheMode;
}

// @beta
export enum HierarchyCacheMode {
    Disk = "disk",
    Hybrid = "hybrid",
    Memory = "memory"
}

// @beta
export interface HybridCacheConfig extends HierarchyCacheConfigBase {
    disk?: DiskHierarchyCacheConfig;
    // (undocumented)
    mode: HierarchyCacheMode.Hybrid;
}

// @beta
export interface MemoryHierarchyCacheConfig extends HierarchyCacheConfigBase {
    // (undocumented)
    mode: HierarchyCacheMode.Memory;
}

// @public
export class Presentation {
    static getManager(clientId?: string): PresentationManager;
    static getRequestTimeout(): number;
    static initialize(props?: PresentationProps): void;
    static get initProps(): PresentationPropsDeprecated | PresentationPropsNew | undefined;
    static terminate(): void;
}

// @beta
export enum PresentationBackendLoggerCategory {
    Ipc = "presentation-backend.Ipc",
    // (undocumented)
    Package = "presentation-backend",
    PresentationManager = "presentation-backend.PresentationManager",
    Rpc = "presentation-backend.Rpc"
}

// @beta
export enum PresentationBackendNativeLoggerCategory {
    // (undocumented)
    ECObjects = "ECObjects",
    // (undocumented)
    ECObjects_ECExpressions = "ECObjects.ECExpressions",
    // (undocumented)
    ECObjects_ECExpressions_Evaluate = "ECObjects.ECExpressions.Evaluate",
    // (undocumented)
    ECObjects_ECExpressions_Parse = "ECObjects.ECExpressions.Parse",
    // (undocumented)
    ECPresentation = "ECPresentation",
    // (undocumented)
    ECPresentation_Connections = "ECPresentation.Connections",
    // (undocumented)
    ECPresentation_Localization = "ECPresentation.Localization",
    // (undocumented)
    ECPresentation_RulesEngine = "ECPresentation.RulesEngine",
    // (undocumented)
    ECPresentation_RulesEngine_Content = "ECPresentation.RulesEngine.Content",
    // (undocumented)
    ECPresentation_RulesEngine_Localization = "ECPresentation.RulesEngine.Localization",
    // (undocumented)
    ECPresentation_RulesEngine_Navigation = "ECPresentation.RulesEngine.Navigation",
    // (undocumented)
    ECPresentation_RulesEngine_Navigation_Cache = "ECPresentation.RulesEngine.Navigation.Cache",
    // (undocumented)
    ECPresentation_RulesEngine_RulesetVariables = "ECPresentation.RulesEngine.RulesetVariables",
    // (undocumented)
    ECPresentation_RulesEngine_Threads = "ECPresentation.RulesEngine.Threads",
    // (undocumented)
    ECPresentation_RulesEngine_Update = "ECPresentation.RulesEngine.Update"
}

// @public
export class PresentationManager {
    constructor(props?: PresentationManagerProps);
    activeLocale: string | undefined;
    activeUnitSystem: PresentationUnitSystem | undefined;
    // @deprecated (undocumented)
    compareHierarchies(requestContext: ClientRequestContext, requestOptions: PresentationDataCompareOptions<IModelDb, NodeKey>): Promise<PartialHierarchyModification[]>;
    // @beta
    compareHierarchies(requestOptions: WithClientRequestContext<PresentationDataCompareOptions<IModelDb, NodeKey>>): Promise<HierarchyCompareInfo>;
    // @deprecated
    computeSelection(requestContext: ClientRequestContext, requestOptions: SelectionScopeRequestOptions<IModelDb>, ids: Id64String[], scopeId: string): Promise<KeySet>;
    // @beta
    computeSelection(requestOptions: WithClientRequestContext<SelectionScopeRequestOptions<IModelDb> & {
        ids: Id64String[];
        scopeId: string;
    }>): Promise<KeySet>;
    dispose(): void;
    // @deprecated
    getContent(requestContext: ClientRequestContext, requestOptions: Paged<ContentRequestOptions<IModelDb>>, descriptorOrOverrides: Descriptor | DescriptorOverrides, keys: KeySet): Promise<Content | undefined>;
    // @beta
    getContent(requestOptions: WithClientRequestContext<Paged<ExtendedContentRequestOptions<IModelDb, Descriptor, KeySet>>>): Promise<Content | undefined>;
    // @deprecated
    getContentAndSize(requestContext: ClientRequestContext, requestOptions: Paged<ContentRequestOptions<IModelDb>>, descriptorOrOverrides: Descriptor | DescriptorOverrides, keys: KeySet): Promise<{
        content: Content | undefined;
        size: number;
    }>;
    // @deprecated
    getContentDescriptor(requestContext: ClientRequestContext, requestOptions: ContentRequestOptions<IModelDb>, displayType: string, keys: KeySet, selection: SelectionInfo | undefined): Promise<Descriptor | undefined>;
    // @beta
    getContentDescriptor(requestOptions: WithClientRequestContext<ContentDescriptorRequestOptions<IModelDb, KeySet>>): Promise<Descriptor | undefined>;
    // @deprecated
    getContentSetSize(requestContext: ClientRequestContext, requestOptions: ContentRequestOptions<IModelDb>, descriptorOrOverrides: Descriptor | DescriptorOverrides, keys: KeySet): Promise<number>;
    // @beta
    getContentSetSize(requestOptions: WithClientRequestContext<ExtendedContentRequestOptions<IModelDb, Descriptor, KeySet>>): Promise<number>;
    // @deprecated
    getDisplayLabelDefinition(requestContext: ClientRequestContext, requestOptions: LabelRequestOptions<IModelDb>, key: InstanceKey): Promise<LabelDefinition>;
    // @beta
    getDisplayLabelDefinition(requestOptions: WithClientRequestContext<DisplayLabelRequestOptions<IModelDb, InstanceKey>>): Promise<LabelDefinition>;
    // @deprecated
    getDisplayLabelDefinitions(requestContext: ClientRequestContext, requestOptions: LabelRequestOptions<IModelDb>, instanceKeys: InstanceKey[]): Promise<LabelDefinition[]>;
    // @beta
    getDisplayLabelDefinitions(requestOptions: WithClientRequestContext<Paged<DisplayLabelsRequestOptions<IModelDb, InstanceKey>>>): Promise<LabelDefinition[]>;
    getDistinctValues(requestContext: ClientRequestContext, requestOptions: ContentRequestOptions<IModelDb>, descriptor: Descriptor | DescriptorOverrides, keys: KeySet, fieldName: string, maximumValueCount?: number): Promise<string[]>;
    // @deprecated
    getFilteredNodePaths(requestContext: ClientRequestContext, requestOptions: HierarchyRequestOptions<IModelDb>, filterText: string): Promise<NodePathElement[]>;
    // @beta
    getFilteredNodePaths(requestOptions: WithClientRequestContext<HierarchyRequestOptions<IModelDb> & {
        filterText: string;
    }>): Promise<NodePathElement[]>;
    // @internal (undocumented)
    getNativePlatform: () => NativePlatformDefinition;
    // @deprecated
    getNodePaths(requestContext: ClientRequestContext, requestOptions: HierarchyRequestOptions<IModelDb>, paths: InstanceKey[][], markedIndex: number): Promise<NodePathElement[]>;
    // @beta
    getNodePaths(requestOptions: WithClientRequestContext<HierarchyRequestOptions<IModelDb> & {
        paths: InstanceKey[][];
        markedIndex: number;
    }>): Promise<NodePathElement[]>;
    // @deprecated
    getNodes(requestContext: ClientRequestContext, requestOptions: Paged<HierarchyRequestOptions<IModelDb>>, parentKey?: NodeKey): Promise<Node[]>;
    // @beta
    getNodes(requestOptions: WithClientRequestContext<Paged<ExtendedHierarchyRequestOptions<IModelDb, NodeKey>>>): Promise<Node[]>;
    // @deprecated
    getNodesAndCount(requestContext: ClientRequestContext, requestOptions: Paged<HierarchyRequestOptions<IModelDb>>, parentKey?: NodeKey): Promise<{
        nodes: Node[];
        count: number;
    }>;
    // @deprecated
    getNodesCount(requestContext: ClientRequestContext, requestOptions: HierarchyRequestOptions<IModelDb>, parentKey?: NodeKey): Promise<number>;
    // @beta
    getNodesCount(requestOptions: WithClientRequestContext<ExtendedHierarchyRequestOptions<IModelDb, NodeKey>>): Promise<number>;
    // @alpha
    getPagedDistinctValues(requestOptions: WithClientRequestContext<DistinctValuesRequestOptions<IModelDb, Descriptor, KeySet>>): Promise<PagedResponse<DisplayValueGroup>>;
    // @internal (undocumented)
    getRulesetId(rulesetOrId: Ruleset | string): string;
    // @deprecated
    getSelectionScopes(requestContext: ClientRequestContext, requestOptions: SelectionScopeRequestOptions<IModelDb>): Promise<SelectionScope[]>;
    // @beta
    getSelectionScopes(requestOptions: WithClientRequestContext<SelectionScopeRequestOptions<IModelDb>>): Promise<SelectionScope[]>;
    // @alpha @deprecated
    loadHierarchy(requestContext: ClientRequestContext, requestOptions: HierarchyRequestOptions<IModelDb>): Promise<void>;
    // @alpha
    loadHierarchy(requestOptions: WithClientRequestContext<HierarchyRequestOptions<IModelDb>>): Promise<void>;
    get props(): PresentationManagerProps;
    rulesets(): RulesetManager;
    vars(rulesetId: string): RulesetVariablesManager;
}

// @public
export enum PresentationManagerMode {
    ReadOnly = 0,
    ReadWrite = 1
}

// @public
export interface PresentationManagerProps {
    activeLocale?: string;
    // @alpha
    activeUnitSystem?: PresentationUnitSystem;
    // @internal (undocumented)
    addon?: NativePlatformDefinition;
    // @beta
    cacheConfig?: HierarchyCacheConfig;
    // @alpha (undocumented)
    contentCacheSize?: number;
    // @alpha
    defaultFormats?: {
        [phenomenon: string]: UnitSystemFormat;
    };
    enableSchemasPreload?: boolean;
    // @internal
    id?: string;
    localeDirectories?: string[];
    mode?: PresentationManagerMode;
    presentationAssetsRoot?: string | {
        backend: string;
        common: string;
    };
    rulesetDirectories?: string[];
    supplementalRulesetDirectories?: string[];
    taskAllocationsMap?: {
        [priority: number]: number;
    };
    // @alpha
    updatesPollInterval?: number;
    // @alpha
    useMmap?: boolean | number;
}

// @public
export type PresentationProps = PresentationPropsDeprecated | PresentationPropsNew;

// @public @deprecated (undocumented)
export interface PresentationPropsDeprecated extends PresentationManagerProps {
    // @internal
    clientManagerFactory?: (clientId: string, props: PresentationManagerProps) => PresentationManager;
    requestTimeout?: number;
    unusedClientLifetime?: number;
}

// @public (undocumented)
export interface PresentationPropsNew extends PresentationManagerProps {
    requestTimeout?: number;
    // @internal
    useSingleManager?: boolean;
}

// @beta
export class RulesetEmbedder {
    constructor(props: RulesetEmbedderProps);
    getRulesets(): Promise<Ruleset[]>;
    insertRuleset(ruleset: Ruleset, duplicateHandlingStrategy?: DuplicateRulesetHandlingStrategy): Promise<Id64String>;
    }

// @public
export interface RulesetEmbedderProps {
    imodel: IModelDb;
}

// @public
export interface RulesetManager {
    add(ruleset: Ruleset): RegisteredRuleset;
    clear(): void;
    get(id: string): RegisteredRuleset | undefined;
    remove(ruleset: RegisteredRuleset | [string, string]): boolean;
}

// @public
export interface RulesetVariablesManager {
    getBool(variableId: string): boolean;
    getId64(variableId: string): Id64String;
    getId64s(variableId: string): Id64String[];
    getInt(variableId: string): number;
    getInts(variableId: string): number[];
    getString(variableId: string): string;
    getValue(variableId: string, type: VariableValueTypes): VariableValue;
    setBool(variableId: string, value: boolean): void;
    setId64(variableId: string, value: Id64String): void;
    setId64s(variableId: string, value: Id64String[]): void;
    setInt(variableId: string, value: number): void;
    setInts(variableId: string, value: number[]): void;
    setString(variableId: string, value: string): void;
    setValue(variableId: string, type: VariableValueTypes, value: VariableValue): void;
}

// @beta
export type WithClientRequestContext<T> = T & {
    requestContext: ClientRequestContext;
    diagnostics?: BackendDiagnosticsOptions;
};


// (No @packageDocumentation comment for this package)

```
