## API Report File for "@itwin/backend-test-support"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AccessToken } from '@itwin/core-bentley';
import { AcquireNewBriefcaseIdArg } from '@itwin/core-backend';
import { BackendHubAccess } from '@itwin/core-backend';
import { BeEvent } from '@itwin/core-bentley';
import { BRepEntity } from '@itwin/core-common';
import { BriefcaseDb } from '@itwin/core-backend';
import { BriefcaseDbArg } from '@itwin/core-backend';
import { BriefcaseIdArg } from '@itwin/core-backend';
import { ChangesetArg } from '@itwin/core-backend';
import { ChangesetFileProps } from '@itwin/core-common';
import { ChangesetIdWithIndex } from '@itwin/core-common';
import { ChangesetIndex } from '@itwin/core-common';
import { ChangesetProps } from '@itwin/core-common';
import { ChangesetRange } from '@itwin/core-common';
import { CheckpointProps } from '@itwin/core-backend';
import { Code } from '@itwin/core-common';
import { CodeProps } from '@itwin/core-common';
import { ColorDef } from '@itwin/core-common';
import { CreateNewIModelProps } from '@itwin/core-backend';
import { DownloadChangesetArg } from '@itwin/core-backend';
import { DownloadChangesetRangeArg } from '@itwin/core-backend';
import { DownloadRequest } from '@itwin/core-backend';
import { Element as Element_2 } from '@itwin/core-backend';
import { ElementDrivesElement } from '@itwin/core-backend';
import { GeometryStreamProps } from '@itwin/core-common';
import { GuidString } from '@itwin/core-bentley';
import { Id64String } from '@itwin/core-bentley';
import { IModelDb } from '@itwin/core-backend';
import { IModelIdArg } from '@itwin/core-backend';
import { IModelNameArg } from '@itwin/core-backend';
import { IModelVersion } from '@itwin/core-common';
import { IModelVersionProps } from '@itwin/core-common';
import { LocalDirName } from '@itwin/core-common';
import { LocalFileName } from '@itwin/core-common';
import { LocalHub } from '@itwin/core-backend';
import { LockMap } from '@itwin/core-backend';
import { LockProps } from '@itwin/core-backend';
import { Model } from '@itwin/core-backend';
import { OpenMode } from '@itwin/core-bentley';
import { PhysicalElement } from '@itwin/core-backend';
import { PhysicalElementProps } from '@itwin/core-common';
import { Point2d } from '@itwin/core-geometry';
import { Point3d } from '@itwin/core-geometry';
import { RelatedElement } from '@itwin/core-common';
import { RelationshipProps } from '@itwin/core-backend';
import { RequestNewBriefcaseArg } from '@itwin/core-backend';
import { RequestNewBriefcaseProps } from '@itwin/core-common';
import { Schema } from '@itwin/core-backend';
import { SnapshotDb } from '@itwin/core-backend';
import { Subject } from '@itwin/core-backend';
import { V2CheckpointAccessProps } from '@itwin/core-backend';
import { YawPitchRollAngles } from '@itwin/core-geometry';

// @internal
export function advancedDeepEqual(e: any, a: any, options?: AdvancedEqualFuncOpts): boolean;

// @internal (undocumented)
export function brepData(): {
    data: string;
};

// @internal (undocumented)
export function createBRepDataProps(origin?: Point3d, angles?: YawPitchRollAngles): BRepEntity.DataProps;

// @internal (undocumented)
export const defaultOpts: {
    readonly tolerance: 1e-10;
    readonly considerNonExistingAndUndefinedEqual: false;
};

// @beta (undocumented)
export class ExtensiveTestScenario {
    // (undocumented)
    static assertUpdatesInDb(iModelDb: IModelDb, assertDeletes?: boolean): void;
    // (undocumented)
    static federationGuid3: string;
    // (undocumented)
    static populateDb(sourceDb: IModelDb): Promise<void>;
    // (undocumented)
    static prepareDb(sourceDb: IModelDb): Promise<void>;
    // (undocumented)
    static uniqueAspectGuid: string;
    // (undocumented)
    static updateDb(sourceDb: IModelDb): void;
}

// @beta
export class HubMock {
    // (undocumented)
    static acquireLocks(arg: BriefcaseDbArg, locks: LockMap): Promise<void>;
    // (undocumented)
    static acquireNewBriefcaseId(arg: AcquireNewBriefcaseIdArg): Promise<number>;
    static createNewIModel(arg: CreateNewIModelProps): Promise<GuidString>;
    // (undocumented)
    static deleteIModel(arg: IModelIdArg & {
        iTwinId: GuidString;
    }): Promise<void>;
    static destroy(iModelId: GuidString): void;
    // (undocumented)
    static downloadChangeset(arg: DownloadChangesetArg): Promise<ChangesetFileProps>;
    // (undocumented)
    static downloadChangesets(arg: DownloadChangesetRangeArg): Promise<ChangesetFileProps[]>;
    // (undocumented)
    static findLocalHub(iModelId: GuidString): LocalHub;
    static getChangesetFromNamedVersion(arg: IModelIdArg & {
        versionName: string;
    }): Promise<ChangesetProps>;
    // (undocumented)
    static getChangesetFromVersion(arg: IModelIdArg & {
        version: IModelVersion;
    }): Promise<ChangesetProps>;
    // (undocumented)
    static getLatestChangeset(arg: IModelIdArg): Promise<ChangesetProps>;
    // (undocumented)
    static getMyBriefcaseIds(arg: IModelIdArg): Promise<number[]>;
    static get isValid(): boolean;
    // (undocumented)
    static get iTwinId(): string;
    // (undocumented)
    static pushChangeset(arg: IModelIdArg & {
        changesetProps: ChangesetFileProps;
    }): Promise<ChangesetIndex>;
    // (undocumented)
    static queryAllLocks(_arg: BriefcaseDbArg): Promise<LockProps[]>;
    // (undocumented)
    static queryChangeset(arg: ChangesetArg): Promise<ChangesetProps>;
    // (undocumented)
    static queryChangesets(arg: IModelIdArg & {
        range?: ChangesetRange;
    }): Promise<ChangesetProps[]>;
    // (undocumented)
    static queryIModelByName(arg: IModelNameArg): Promise<GuidString | undefined>;
    // (undocumented)
    static queryV2Checkpoint(arg: CheckpointProps): Promise<V2CheckpointAccessProps | undefined>;
    // (undocumented)
    static releaseAllLocks(arg: BriefcaseDbArg): Promise<void>;
    static releaseBriefcase(arg: BriefcaseIdArg): Promise<void>;
    static shutdown(): void;
    static startup(mockName: LocalDirName, outputDir: string): void;
}

// @beta
export class HubWrappers {
    // (undocumented)
    static closeAndDeleteBriefcaseDb(accessToken: AccessToken, briefcaseDb: IModelDb): Promise<void>;
    static createIModel(accessToken: AccessToken, iTwinId: GuidString, iModelName: string): Promise<GuidString>;
    static deleteIModel(accessToken: AccessToken, iTwinId: string, iModelName: string): Promise<void>;
    static downloadAndOpenBriefcase(args: RequestNewBriefcaseArg & {
        noLock?: true;
    }): Promise<BriefcaseDb>;
    static downloadAndOpenCheckpoint(args: {
        accessToken: AccessToken;
        iTwinId: GuidString;
        iModelId: GuidString;
        asOf?: IModelVersionProps;
    }): Promise<SnapshotDb>;
    // (undocumented)
    static getAccessToken(user: TestUserType): Promise<string>;
    // (undocumented)
    protected static get hubMock(): typeof HubMock;
    static openBriefcaseUsingRpc(args: RequestNewBriefcaseProps & {
        accessToken: AccessToken;
        deleteFirst?: boolean;
    }): Promise<BriefcaseDb>;
    static openCheckpointUsingRpc(args: RequestNewBriefcaseProps & {
        accessToken: AccessToken;
        deleteFirst?: boolean;
    }): Promise<IModelDb>;
    static purgeAcquiredBriefcasesById(accessToken: AccessToken, iModelId: GuidString, onReachThreshold?: () => void, acquireThreshold?: number): Promise<void>;
    static pushIModel(accessToken: AccessToken, iTwinId: string, pathname: string, iModelName?: string, overwrite?: boolean): Promise<GuidString>;
    static recreateIModel(...[arg]: Parameters<BackendHubAccess["createNewIModel"]>): Promise<GuidString>;
}

// @beta (undocumented)
export class IModelTestUtils {
    static createAndInsertDrawingModel(testDb: IModelDb, modeledElementRef: RelatedElement, privateModel?: boolean): Id64String;
    static createAndInsertDrawingPartition(testDb: IModelDb, newModelCode: CodeProps, parentId?: Id64String): Id64String;
    static createAndInsertDrawingPartitionAndModel(testImodel: IModelDb, newModelCode: CodeProps, privateModel?: boolean, parent?: Id64String): Id64String[];
    static createAndInsertPhysicalModel(testDb: IModelDb, modeledElementRef: RelatedElement, privateModel?: boolean): Id64String;
    static createAndInsertPhysicalModelAsync(testDb: IModelDb, modeledElementRef: RelatedElement, privateModel?: boolean): Promise<Id64String>;
    static createAndInsertPhysicalPartition(testDb: IModelDb, newModelCode: CodeProps, parentId?: Id64String): Id64String;
    static createAndInsertPhysicalPartitionAndModel(testImodel: IModelDb, newModelCode: CodeProps, privateModel?: boolean, parent?: Id64String): Id64String[];
    static createAndInsertPhysicalPartitionAndModelAsync(testImodel: IModelDb, newModelCode: CodeProps, privateModel?: boolean, parentId?: Id64String): Promise<Id64String[]>;
    static createAndInsertPhysicalPartitionAsync(testDb: IModelDb, newModelCode: CodeProps, parentId?: Id64String): Promise<Id64String>;
    // (undocumented)
    static createBox(size: Point3d, categoryId?: Id64String, subCategoryId?: Id64String, renderMaterialId?: Id64String, geometryPartId?: Id64String): GeometryStreamProps;
    // (undocumented)
    static createBoxes(subCategoryIds: Id64String[]): GeometryStreamProps;
    // (undocumented)
    static createCylinder(radius: number): GeometryStreamProps;
    // (undocumented)
    static createJobSubjectElement(iModel: IModelDb, name: string): Subject;
    // (undocumented)
    static createPhysicalObject(testImodel: IModelDb, modelId: Id64String, categoryId: Id64String, elemCode?: Code): Element_2;
    // (undocumented)
    static createRectangle(size: Point2d): GeometryStreamProps;
    static createSnapshotFromSeed(testFileName: string, seedFileName: LocalFileName): SnapshotDb;
    // (undocumented)
    static dumpIModelInfo(iModelDb: IModelDb): void;
    // (undocumented)
    static executeQuery(db: IModelDb, ecsql: string, bindings?: any[] | object): any[];
    static flushTxns(iModelDb: IModelDb): boolean;
    // (undocumented)
    static generateChangeSetId(): ChangesetIdWithIndex;
    static generateUniqueName(baseName: string): string;
    // (undocumented)
    static getUniqueModelCode(testDb: IModelDb, newModelCodeBase: string): Code;
    // (undocumented)
    static getUniqueSpatialCategoryCode(scopeModel: Model, newCodeBaseValue: string): Code;
    // (undocumented)
    static insertExternalSource(iModelDb: IModelDb, repositoryId: Id64String, userLabel: string): Id64String;
    // (undocumented)
    static insertRepositoryLink(iModelDb: IModelDb, codeValue: string, url: string, format: string): Id64String;
    // (undocumented)
    static insertSpatialCategory(iModelDb: IModelDb, modelId: Id64String, categoryName: string, color: ColorDef): Id64String;
    // (undocumented)
    static insertTextureElement(iModelDb: IModelDb, modelId: Id64String, textureName: string): Id64String;
    // (undocumented)
    protected static get knownTestLocations(): {
        outputDir: string;
        assetsDir: string;
    };
    // (undocumented)
    static openCheckpoint(fileName: LocalFileName, checkpoint: CheckpointProps): SnapshotDb;
    static prepareOutputFile(subDirName: string, fileName: string): LocalFileName;
    // (undocumented)
    static queryByCodeValue(iModelDb: IModelDb, codeValue: string): Id64String;
    // (undocumented)
    static queryByUserLabel(iModelDb: IModelDb, userLabel: string): Id64String;
    // (undocumented)
    static queryDefinitionPartitionId(iModelDb: IModelDb, parentSubjectId: Id64String, suffix: string): Id64String;
    // (undocumented)
    static queryPhysicalElementId(iModelDb: IModelDb, modelId: Id64String, categoryId: Id64String, suffix: string): Id64String;
    // (undocumented)
    static queryPhysicalPartitionId(iModelDb: IModelDb, parentSubjectId: Id64String, suffix: string): Id64String;
    // (undocumented)
    static querySpatialCategoryId(iModelDb: IModelDb, modelId: Id64String, suffix: string): Id64String;
    // (undocumented)
    static querySubjectId(iModelDb: IModelDb, subjectCodeValue: string): Id64String;
    // (undocumented)
    static registerTestBimSchema(): void;
    static resolveAssetFile(assetName: string): LocalFileName;
    // (undocumented)
    static resolveFontFile(fontName: string): LocalFileName;
    static tryOpenLocalFile(request: DownloadRequest): SnapshotDb | undefined;
}

// @internal (undocumented)
export interface IModelTestUtilsOpenOptions {
    // (undocumented)
    copyFilename?: string;
    // (undocumented)
    enableTransactions?: boolean;
    // (undocumented)
    openMode?: OpenMode;
}

// @internal (undocumented)
export class KnownTestLocations {
    static get assetsDir(): string;
    static get outputDir(): string;
    static setRootDir(rootDir: string): void;
}

// @internal (undocumented)
export class TestBim extends Schema {
    // (undocumented)
    static get schemaName(): string;
}

// @internal
export class TestChangeSetUtility {
    constructor(accessToken: AccessToken, iModelName: string);
    createTestIModel(): Promise<BriefcaseDb>;
    // (undocumented)
    deleteTestIModel(): Promise<void>;
    // (undocumented)
    iModelId: GuidString;
    // (undocumented)
    iTwinId: GuidString;
    // (undocumented)
    pushTestChangeSet(): Promise<void>;
}

// @internal (undocumented)
export class TestElementDrivesElement extends ElementDrivesElement {
    // (undocumented)
    static get className(): string;
    // (undocumented)
    static deletedDependency: BeEvent<(props: RelationshipProps, imodel: IModelDb) => void>;
    // (undocumented)
    static onDeletedDependency(props: RelationshipProps, imodel: IModelDb): void;
    // (undocumented)
    static onRootChanged(props: RelationshipProps, imodel: IModelDb): void;
    // (undocumented)
    property1: string;
    // (undocumented)
    static rootChanged: BeEvent<(props: RelationshipProps, imodel: IModelDb) => void>;
}

// @internal (undocumented)
export class TestPhysicalObject extends PhysicalElement {
    // (undocumented)
    static allInputsHandled: BeEvent<(id: Id64String, imodel: IModelDb) => void>;
    // (undocumented)
    static beforeOutputsHandled: BeEvent<(id: Id64String, imodel: IModelDb) => void>;
    // (undocumented)
    static get className(): string;
    // (undocumented)
    intProperty: number;
    // (undocumented)
    static onAllInputsHandled(id: Id64String, imodel: IModelDb): void;
    // (undocumented)
    static onBeforeOutputsHandled(id: Id64String, imodel: IModelDb): void;
}

// @internal (undocumented)
export interface TestPhysicalObjectProps extends PhysicalElementProps {
    // (undocumented)
    intProperty: number;
}

// @internal (undocumented)
export interface TestRelationshipProps extends RelationshipProps {
    // (undocumented)
    property1: string;
}

// @beta
export enum TestUserType {
    // (undocumented)
    Manager = 1,
    // (undocumented)
    Regular = 0,
    // (undocumented)
    Super = 2,
    // (undocumented)
    SuperManager = 3
}

// (No @packageDocumentation comment for this package)

```
